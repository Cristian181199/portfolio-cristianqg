---
import { getLangFromUrl, useTranslations } from '../../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const experiences = [
  {
    title: t('experience.php_dev.title'),
    company: t('experience.php_dev.company'),
    location: t('experience.php_dev.location'),
    period: t('experience.php_dev.period'),
    description: t('experience.php_dev.description'),
    tech: t('experience.php_dev.tech')
  },
  {
    title: t('experience.intern.title'),
    company: t('experience.intern.company'),
    location: t('experience.intern.location'),
    period: t('experience.intern.period'),
    description: t('experience.intern.description'),
    tech: t('experience.intern.tech')
  }
];
---

<section id="experience" class="py-20 px-4 bg-secondary/5">
  <div class="container mx-auto max-w-4xl">
    <h2 class="text-4xl md:text-5xl font-bold text-center mb-12">
      {t('experience.title')}
    </h2>
    
    <div class="space-y-8">
      {experiences.map((exp, index) => (
        <div class="relative pl-8 border-l-2 border-[var(--color-primary)]">
          <div class="absolute -left-[9px] top-0 w-4 h-4 bg-[var(--color-primary)] rounded-full"></div>
          
          <div class="bg-secondary/5 border border-secondary/10 rounded-lg p-6 hover:border-[var(--color-primary)] transition-all duration-300">
            <div class="flex flex-col md:flex-row md:justify-between md:items-start mb-2">
              <h3 class="text-2xl font-bold">{exp.title}</h3>
              <span class="text-[var(--text-secondary)] text-sm md:text-base">{exp.period}</span>
            </div>
            
            <div class="text-[var(--color-primary)] font-semibold mb-1">{exp.company}</div>
            <div class="text-[var(--text-secondary)] text-sm mb-4">{exp.location}</div>
            
            <p class="text-[var(--text-secondary)] mb-4">{exp.description}</p>
            
            <div class="flex flex-wrap gap-2">
              {exp.tech.map((tech: string) => (
                <span class="px-3 py-1 bg-[var(--color-primary)]/10 text-[var(--color-primary)] rounded-full text-sm">
                  {tech}
                </span>
              ))}
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
